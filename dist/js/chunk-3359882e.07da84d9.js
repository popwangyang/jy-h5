(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3359882e"],{"2e29":function(t,e,a){},"98e4":function(t,e,a){"use strict";var n=a("2e29"),i=a.n(n);i.a},a8a1:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editAccountInformationBox"},[a("van-field",{attrs:{label:"昵称","input-align":"right",placeholder:"请输入昵称"},model:{value:t.data.nickname,callback:function(e){t.$set(t.data,"nickname",e)},expression:"data.nickname"}}),a("van-field",{attrs:{label:"账号","input-align":"right",placeholder:"请输入邮箱地址"},model:{value:t.data.username,callback:function(e){t.$set(t.data,"username",e)},expression:"data.username"}}),"edit"!=t.$route.query.type?a("van-field",{attrs:{label:"初始密码",type:t.inputType,"input-align":"right","right-icon":t.passwordIconType,placeholder:"请输入"},on:{"click-right-icon":t.righIconBtn},model:{value:t.data.password,callback:function(e){t.$set(t.data,"password",e)},expression:"data.password"}}):t._e(),a("van-field",{attrs:{label:"手机号",type:"tel","input-align":"right",placeholder:"请输入"},model:{value:t.data.phone,callback:function(e){t.$set(t.data,"phone",e)},expression:"data.phone"}}),a("div",{staticClass:"van-cell van-field"},[a("div",{staticClass:"van-cell__title van-field__label"},[t._v("是否启用")]),a("div",{staticClass:"van-cell__value"},[a("van-switch",{attrs:{size:"22px"},model:{value:t.data.is_active,callback:function(e){t.$set(t.data,"is_active",e)},expression:"data.is_active"}})],1)]),a("span",{staticClass:"footer"},[a("van-button",{staticClass:"button",attrs:{loading:t.loading,"loading-type":"spinner","loading-text":"加载中...",size:"large"},on:{click:t.onClickBtn}},[t._v(t._s(t.buttonText))])],1)],1)},i=[],o=(a("ac6a"),a("456d"),a("71a5")),s=a("b970"),c={data:function(){return{loading:!1,inputTypeFlag:!0,data:{nickname:"",username:"",password:"",is_active:!0,group:[],ktv_id:this.$route.query.ktvID,phone:"",id:""},buttonText:"",ToastText:"",ktvID:""}},computed:{passwordIconType:function(){return this.inputTypeFlag?"closed-eye":"eye-o"},inputType:function(){return this.inputTypeFlag?"password":"text"}},methods:{righIconBtn:function(){this.inputTypeFlag=!this.inputTypeFlag},onClickBtn:function(){var t=this;this.loading=!0;var e=Object.assign({},this.data);e.is_active=e.is_active?1:0,console.log(e),"create"==this.$route.query.type?Object(o["w"])(e).then(function(e){console.log(e),t.loading=!1,s["c"].success("账号创建成功"),setTimeout(function(){t.$router.go(-1)},500)}).catch(function(e){t.loading=!1,e.data?s["c"].fail(e.data.non_field_errors[0]):s["c"].fail("账号创建异常")}):(delete e.password,Object(o["f"])(e).then(function(e){console.log(e),t.loading=!1,s["c"].success("账号修改成功"),setTimeout(function(){t.$router.go(-1)},500)}).catch(function(e){t.loading=!1,s["c"].fail("账号修改失败")}))},getDetail:function(){var t=this,e={code:"K",ktv_id:this.ktvID};s["c"].loading({duration:0,forbidClick:!0,loadingType:"circular"}),Object(o["i"])(e).then(function(e){s["c"].clear(),Object.keys(t.data).map(function(a){return t.data[a]="group"==a?[e.data.results[0].group[0].id]:e.data.results[0][a]}),console.log(t.data)})}},mounted:function(){"edit"==this.$route.query.type?(document.title="编辑账号",this.buttonText="保存",this.ToastText="保存成功",this.ktvID=this.$route.query.ktvID,this.getDetail()):(document.title="新建账号",this.buttonText="新建试用账号",this.ToastText="创建成功")}},l=c,u=(a("98e4"),a("2877")),r=Object(u["a"])(l,n,i,!1,null,"9a8b9da8",null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-3359882e.07da84d9.js.map