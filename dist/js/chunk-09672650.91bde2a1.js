(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09672650"],{1632:function(e,t,a){},"6e36":function(e,t,a){"use strict";var n=a("1632"),i=a.n(n);i.a},d065:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ICediteBox"},[a("span",{staticClass:"nav"},[e._v("\n\t\t  \t企业信息\n\t\t")]),a("van-field",{attrs:{label:"企业注册名称",placeholder:"请输入",required:"","input-align":"right"},model:{value:e.data.company_name,callback:function(t){e.$set(e.data,"company_name",t)},expression:"data.company_name"}}),a("van-field",{attrs:{required:"",label:"营业执照编号",placeholder:"请输入","input-align":"right"},model:{value:e.data.license_number,callback:function(t){e.$set(e.data,"license_number",t)},expression:"data.license_number"}}),a("Upload",{attrs:{title:"营业执照照片",required:!0},model:{value:e.data.license_photo,callback:function(t){e.$set(e.data,"license_photo",t)},expression:"data.license_photo"}}),a("span",{staticClass:"nav"},[e._v("\n\t\t  \t法人信息\n\t\t")]),a("van-field",{attrs:{required:"",label:"法人姓名",placeholder:"请输入","input-align":"right"},model:{value:e.data.legal_representative,callback:function(t){e.$set(e.data,"legal_representative",t)},expression:"data.legal_representative"}}),a("van-field",{attrs:{required:"",label:"身份证号",placeholder:"请输入","input-align":"right"},model:{value:e.data.legal_representative_card,callback:function(t){e.$set(e.data,"legal_representative_card",t)},expression:"data.legal_representative_card"}}),a("Upload",{attrs:{title:"身份证照片",required:!0},model:{value:e.data.identity_card_photo,callback:function(t){e.$set(e.data,"identity_card_photo",t)},expression:"data.identity_card_photo"}}),a("span",{staticClass:"footer"},[a("van-button",{staticClass:"button",attrs:{size:"large",loading:e.loading,"loading-type":"spinner","loading-text":"加载中..."},on:{click:e.saveBtn}},[e._v(e._s(e.buttonText))])],1)],1)},i=[],r=a("9694"),l=a("b70e"),s=a("c276"),d=a("b970"),o=a("71a5"),c={components:{Upload:r["a"]},data:function(){var e=function(e,t){""===e?t(new l["a"]("企业名字不能为空")):e.length>50?t(new l["a"]("企业名字应小于50个字")):t()},t=function(e,t){var a=/^[0-9a-zA-Z]{1,}$/;""===e?t(new l["a"]("营业执照注册号不能为空")):e.length>50?t(new l["a"]("营业执照注册号不能超过50个字符")):a.test(e)?t():t(new l["a"]("营业执照注册号为数字和字母组合"))};return{loading:!1,data:{company_name:"",license_number:"",license_photo:[],legal_representative:"",legal_representative_card:"",identity_card_photo:[],id:""},rule:{company_name:{required:!0,validator:e},license_number:{required:!0,validator:t},license_photo:{required:!0,message:"请上传营业执照照片"},legal_representative:{required:!0,message:"法人代表名称不能为空"},legal_representative_card:{required:!0,type:"IDcard",message:"法人身份证号不能为空"},identity_card_photo:{required:!0,message:"请上传身份证照片"}}}},computed:{buttonText:function(){return"edite"==this.$route.query.type?"保存":"创建"}},methods:{onClickLeft:function(){this.$router.go(-1)},saveBtn:function(){var e=this,t={company_name:this.data.company_name,license_number:this.data.license_number,license_photo:this.data.license_photo.id,legal_representative:this.data.legal_representative,legal_representative_card:this.data.legal_representative_card,identity_card_photo:this.data.identity_card_photo.id,ktv:this.$route.query.id};Object(s["c"])(t,this.rule)&&(this.loading=!0,console.log(t),"create"==this.$route.query.type?Object(o["d"])(t).then(function(t){e.loading=!1,d["d"].success("创建成功"),e.$router.go(-1)}).catch(function(t){e.loading=!1,t.data.legal_representative_card?d["d"].fail(t.data.legal_representative_card[0]):d["d"].fail("创建失败")}):(t.id=this.data.id,Object(o["t"])(t).then(function(t){e.loading=!1,d["d"].success("修改成功"),e.$router.go(-1)}).catch(function(t){e.loading=!1,t.data.legal_representative_card?d["d"].fail(t.data.legal_representative_card[0]):d["d"].fail("修改失败")})))},init:function(){if("edite"==this.$route.query.type){var e=JSON.parse(this.$route.query.data);this.data.company_name=e.company_name,this.data.license_number=e.license_number,this.data.license_photo=e.license_photo,this.data.legal_representative=e.legal_representative,this.data.legal_representative_card=e.legal_representative_card,this.data.identity_card_photo=e.identity_card_photo,this.data.id=e.id}}},mounted:function(){document.title="企业信息",this.init()}},u=c,_=(a("6e36"),a("2877")),p=Object(_["a"])(u,n,i,!1,null,"d7f336cc",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-09672650.91bde2a1.js.map