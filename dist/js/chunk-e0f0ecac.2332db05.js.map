{"version":3,"sources":["webpack:///./src/views/home/putPassword.vue?4d5c","webpack:///./src/views/home/putPassword.vue?812d","webpack:///src/views/home/putPassword.vue","webpack:///./src/views/home/putPassword.vue?e22b","webpack:///./src/views/home/putPassword.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_putPassword_vue_vue_type_style_index_0_id_dd979980_scoped_scoped_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_putPassword_vue_vue_type_style_index_0_id_dd979980_scoped_scoped_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","left","placeholder","model","value","fromData","callback","$$v","$set","expression","size","loading","on","click","handleFrom","staticRenderFns","putPasswordvue_type_script_lang_js_","data","validatePasswordOrigin","myrey","error","test","validatePassword","validatePassword1","password1","password_origin","password","rule","required","validator","methods","Object","objectSpread","vuex_esm","_this","util","_this$fromData","id","$store","state","user","userId","then","res","es","success","setTimeout","handleLogOut","JSON","parse","localStorage","getItem","setItem","stringify","$router","push","name","catch","err","fail","mounted","home_putPasswordvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-e0f0ecac.2332db05.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./putPassword.vue?vue&type=style&index=0&id=dd979980&scoped=scoped&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./putPassword.vue?vue&type=style&index=0&id=dd979980&scoped=scoped&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setNewBox\"},[_c('h2',[_vm._v(\"修改密码\")]),_c('div',{staticClass:\"item\"},[_c('h4',[_vm._v(\"原密码\")]),_c('div',[_c('van-field',{attrs:{\"left\":\"\",\"placeholder\":\"请输入原密码\"},model:{value:(_vm.fromData.password_origin),callback:function ($$v) {_vm.$set(_vm.fromData, \"password_origin\", $$v)},expression:\"fromData.password_origin\"}})],1)]),_c('div',{staticClass:\"item\"},[_c('h4',[_vm._v(\"新密码\")]),_c('div',[_c('van-field',{attrs:{\"left\":\"\",\"placeholder\":\"请再次输入密码\"},model:{value:(_vm.fromData.password),callback:function ($$v) {_vm.$set(_vm.fromData, \"password\", $$v)},expression:\"fromData.password\"}})],1)]),_c('div',{staticClass:\"item\"},[_c('h4',[_vm._v(\"确认密码\")]),_c('div',[_c('van-field',{attrs:{\"left\":\"\",\"placeholder\":\"请再次输入密码\"},model:{value:(_vm.fromData.password1),callback:function ($$v) {_vm.$set(_vm.fromData, \"password1\", $$v)},expression:\"fromData.password1\"}})],1)]),_c('div',{staticClass:\"footer\"},[_c('van-button',{staticClass:\"button\",attrs:{\"size\":\"large\",\"loading\":_vm.loading},on:{\"click\":_vm.handleFrom}},[_vm._v(\"完成\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"setNewBox\">\r\n\t\t<h2>修改密码</h2>\r\n\t\t<div class=\"item\">\r\n\t\t\t\t<h4>原密码</h4>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<van-field\r\n\t\t\t\t\t\tv-model=\"fromData.password_origin\"\r\n\t\t\t\t\t\tleft\r\n\t\t\t\t\t\tplaceholder=\"请输入原密码\"\r\n\t\t\t\t\t  />\r\n\t\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"item\">\r\n\t\t\t\t<h4>新密码</h4>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<van-field\r\n\t\t\t\t\t\tv-model=\"fromData.password\"\r\n\t\t\t\t\t\tleft\r\n\t\t\t\t\t\tplaceholder=\"请再次输入密码\"\r\n\t\t\t\t\t  />\r\n\t\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"item\">\r\n\t\t\t\t<h4>确认密码</h4>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<van-field\r\n\t\t\t\t\t\tv-model=\"fromData.password1\"\r\n\t\t\t\t\t\tleft\r\n\t\t\t\t\t\tplaceholder=\"请再次输入密码\"\r\n\t\t\t\t\t  />\r\n\t\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"footer\">\r\n\t\t\t<van-button class=\"button\"  size=\"large\" @click=\"handleFrom\" :loading='loading'>完成</van-button>\r\n\t\t</div>\r\n\t</div>\n</template>\n\n<script>\r\n\timport { Error } from '@/libs/error.js'\r\n\timport { Toast } from \"vant\"\r\n\timport { checkForm } from '@/libs/util.js'\r\n\timport { ConfirmOrigin } from '@/api/user.js'\r\n\timport { mapActions } from 'vuex'\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\tconst validatePasswordOrigin = (value, callback) => {\r\n\t\t\t\tvar myrey = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/;\r\n\t\t\t\tif(value == ''){\r\n\t\t\t\t\tcallback(new Error(\"原密码不能为空\"))\r\n\t\t\t\t}else if(!myrey.test(value)){\r\n\t\t\t\t\tcallback(new Error(\"原密码不能正确\"))\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst validatePassword = (value, callback) => {\r\n\t\t\t\tvar myrey = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/;\r\n\t\t\t\tif(value == ''){\r\n\t\t\t\t\tcallback(new Error(\"新密码不能为空\"))\r\n\t\t\t\t}else if(!myrey.test(value)){\r\n\t\t\t\t\tcallback(new Error(\"请输入6~20位数字和字母组合\"))\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst validatePassword1 = (value, callback, data) => {\r\n\t\t\t\tif(value == ''){\r\n\t\t\t\t\tcallback(new Error(\"请再次输入密码\"))\r\n\t\t\t\t}else if(value != data.password1){\r\n\t\t\t\t\tcallback(new Error(\"两次输入密码不一致\"))\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn{\r\n\t\t\t\tloading:false,\r\n\t\t\t\tfromData: {\r\n\t\t\t\t   password_origin: '',\r\n\t\t\t\t   password: '',\r\n\t\t\t\t   password1: '',\r\n\t\t\t\t},\r\n\t\t\t\trule:{\r\n\t\t\t\t\tpassword_origin: { required: true, validator: validatePasswordOrigin },\r\n\t\t\t\t\tpassword: { required: true, validator: validatePassword },\r\n\t\t\t\t\tpassword1: { required: true, validator: validatePassword1 }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t...mapActions([\r\n\t\t\t\t'handleLogOut'\r\n\t\t\t]),\r\n\t\t\thandleFrom(){\r\n\t\t\t\tif(!checkForm(this.fromData, this.rule)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst { password_origin, password } = this.fromData;\r\n\t\t\t\tlet id = this.$store.state.user.userId\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t ConfirmOrigin({ password_origin, password, id }).then(res => {\r\n\t\t\t\t this.loading = false;\r\n\t\t\t\t Toast.success(\"密码修改成功\")\r\n\t\t\t\t setTimeout(() => {\r\n\t\t\t\t\t this.handleLogOut().then(() => {\r\n\t\t\t\t\t\tlet user = JSON.parse(localStorage.getItem('jyH5'));\r\n\t\t\t\t\t\t    user.password = '';\r\n\t\t\t\t\t\t\tlocalStorage.setItem('jyH5', JSON.stringify(user));\r\n\t\t\t\t\t\tthis.$router.push({ name: 'login' })\r\n\t\t\t\t\t })\r\n\t\t\t\t }, 1000)\r\n\t\t\t }).catch(err => {\r\n\t\t\t\t this.loading = false;\r\n\t\t\t\t Toast.fail(err.data.error);\r\n\t\t\t })\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tif(localStorage.getItem('jyH5')){\r\n\t\t\t  this.fromData.password_origin = JSON.parse(localStorage.getItem('jyH5')).password;\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped=\"scoped\" lang=\"less\">\r\n\t.setNewBox{\r\n\t\tdisplay: block;\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tbackground: #ffffff;\r\n\t\tpadding: 0.676rem 0.26rem;\r\n\t\tbox-sizing: border-box;\r\n\t\t.item{\r\n\t\t\t&> div{\r\n\t\t\t\tborder-bottom: 1px solid #C6CBD4;\r\n\t\t\t\tmargin-bottom: 0.3rem;\r\n\t\t\t\t.code{\r\n\t\t\t\t\tfont-size:12px;\r\n\t\t\t\t\tfont-weight:500;\r\n\t\t\t\t\tcolor:rgba(75,116,255,1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.loading{\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 0.6rem;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.footer{\r\n\t\t\tmargin-top: 1rem;\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t}\r\n\th2, h4{\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t}\r\n\th2{\r\n\t\tfont-size:20px;\r\n\t\tfont-weight:500;\r\n\t\tcolor: #020202;\r\n\t\tmargin-bottom: 0.52rem;\r\n\t}\r\n\th4{\r\n\t\tfont-size:12px;\r\n\t\tfont-weight:400;\r\n\t\tcolor:rgba(108,114,124,1);\r\n\t\tmargin-bottom: 0.26rem;\r\n\t}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./putPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./putPassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./putPassword.vue?vue&type=template&id=dd979980&scoped=true&\"\nimport script from \"./putPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./putPassword.vue?vue&type=script&lang=js&\"\nimport style0 from \"./putPassword.vue?vue&type=style&index=0&id=dd979980&scoped=scoped&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dd979980\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}